<%- include('partials/header') %>
<main class="catchIMG">
  <div class="container">
    <div class="row">
      <section class="col-md-9">
        <div class="card-group py-3">
          <% pokemonData.forEach(pokemon => { %>
            <div class="card card-myPoke">
              <h5 class="card-title text-center main-card-header">
                <%= pokemon.name %> #<%= pokemon.id %>
              </h5>
              <img src="<%= pokemon.sprites.front_default %>" class="card-img-top" alt="...">
              <div class="card-body text-center">
                <a class="btn btn-lg btn-danger rounded-pill" href="./pokeDex/<%= pokemon.id %>">Check Stats!</a>
                <!-- Add checkbox for caught PokÃ©mon filter -->
                <label for="caughtPokemon_<%= pokemon.id %>">Caught</label>
                <input type="checkbox" id="caughtPokemon_<%= pokemon.id %>" name="caughtPokemon_<%= pokemon.id %>" value="<%= pokemon.id %>" <% if (user.caughtPokemon.includes(pokemon.id)) { %> checked <% } %> >
              </div>
            </div>
          <% }); %>
        </div>
        <!-- Pagination Links -->
        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-center">
            <% if (page > 1) { %>
              <li class="page-item">
                <a class="page-link" href="?page=<%= page - 1 %>" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
            <% } %>
            <% for (let i = startPage; i <= endPage; i++) { %>
              <li class="page-item <%= i === page ? 'active' : '' %>">
                <a class="page-link" href="?page=<%= i %>"><%= i %></a>
              </li>
            <% } %>
            <% if (page < totalPages) { %>
              <li class="page-item">
                <a class="page-link" href="?page=<%= page + 1 %>" aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                </a>
              </li>
            <% } %>
          </ul>
        </nav>
      </section>
      <% include('partials/aside') %>
    </div>
  </div>
</main>
<%- include('partials/footer') %>
